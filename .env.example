# ==============================================================================
# BigDeckApp Environment Variables
# ==============================================================================
# Copy this file to .env and fill in your values
# On Replit: Add these as Secrets in the Secrets tab (Tools > Secrets)
#
# REQUIRED variables are marked with [REQUIRED]
# OPTIONAL variables have sensible defaults
# ==============================================================================

# ==============================================================================
# DATABASE CONFIGURATION
# ==============================================================================

# [REQUIRED] PostgreSQL connection URL
# Format: postgresql://username:password@host:port/database
# Replit: Use Replit's PostgreSQL or external providers like Neon, Supabase, Railway
# Examples:
#   - Local: postgresql://postgres:password@localhost:5432/bigdeckapp
#   - Neon: postgresql://user:pass@ep-xxx.us-east-1.aws.neon.tech/dbname?sslmode=require
#   - Supabase: postgresql://postgres:[password]@db.[ref].supabase.co:5432/postgres
DATABASE_URL=postgresql://username:password@localhost:5432/bigdeckapp

# Database SSL mode (true/false)
# Set to 'true' for production databases or cloud providers (Neon, Supabase, etc.)
# Set to 'false' for local development without SSL
# Default: false
DATABASE_SSL=false

# Reject unauthorized SSL certificates (true/false)
# Set to 'false' only for development with self-signed certificates
# WARNING: Setting to 'false' in production is a security risk
# Default: true
DATABASE_SSL_REJECT_UNAUTHORIZED=true

# Connection pool maximum size
# Replit: Keep low (5-10) due to resource constraints
# Local/Production: Can increase based on available resources
# Default: 10
DATABASE_POOL_MAX=10

# Connection pool minimum size
# Minimum number of connections to keep open
# Default: 2
DATABASE_POOL_MIN=2

# Idle connection timeout in milliseconds
# How long a connection can be idle before being closed
# Default: 30000 (30 seconds)
DATABASE_IDLE_TIMEOUT=30000

# Connection timeout in milliseconds
# How long to wait when acquiring a new connection
# Replit: May need higher values due to network latency
# Default: 5000 (5 seconds)
DATABASE_CONNECTION_TIMEOUT=5000

# Connection acquire timeout in milliseconds
# Maximum time to wait for a connection from the pool
# Default: 60000 (60 seconds)
DATABASE_ACQUIRE_TIMEOUT=60000

# Statement timeout in milliseconds
# Maximum time for a query to execute (0 = no limit)
# Default: 30000 (30 seconds)
DATABASE_STATEMENT_TIMEOUT=30000

# ==============================================================================
# SCRYFALL API CONFIGURATION
# ==============================================================================

# Scryfall API base URL (usually no need to change)
# Default: https://api.scryfall.com
SCRYFALL_API_BASE_URL=https://api.scryfall.com

# Rate limit delay between API requests (in milliseconds)
# Scryfall requests 50-100ms between requests
# Default: 100
SCRYFALL_RATE_LIMIT_DELAY=100

# Maximum retries for failed API requests
# Default: 3
SCRYFALL_MAX_RETRIES=3

# ==============================================================================
# APPLICATION CONFIGURATION
# ==============================================================================

# Node environment (development/production/test)
# Default: development
NODE_ENV=development

# Server port
# Replit: Uses port 3000 by default (mapped to 80 externally)
# Default: 3000
PORT=3000

# Enable request logging (true/false)
# Set to 'true' to log all incoming requests
# Default: true in development, false in production
LOG_REQUESTS=true

# Log level (error/warn/info/debug)
# Default: info
LOG_LEVEL=info

# ==============================================================================
# CORS CONFIGURATION (for API access)
# ==============================================================================

# Allowed origins for CORS (comma-separated)
# Use '*' to allow all origins (not recommended for production)
# Example: https://example.com,https://app.example.com
# Default: * (all origins allowed)
CORS_ORIGIN=*

# ==============================================================================
# RATE LIMITING
# ==============================================================================

# Rate limit window in milliseconds
# Default: 60000 (1 minute)
RATE_LIMIT_WINDOW_MS=60000

# Maximum requests per window per IP
# Default: 100
RATE_LIMIT_MAX_REQUESTS=100

# ==============================================================================
# CACHE CONFIGURATION
# ==============================================================================

# Enable in-memory caching (true/false)
# Default: true
CACHE_ENABLED=true

# Cache TTL in seconds
# Default: 300 (5 minutes)
CACHE_TTL=300
